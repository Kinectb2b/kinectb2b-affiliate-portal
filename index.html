-- Create clients table
CREATE TABLE clients (
    username TEXT PRIMARY KEY,
    password TEXT NOT NULL,
    name TEXT NOT NULL,
    plan TEXT NOT NULL,
    status TEXT DEFAULT 'active',
    next_billing DATE,
    total_appointments INTEGER DEFAULT 0,
    businesses_contacted INTEGER DEFAULT 0,
    people_called INTEGER DEFAULT 0,
    total_contact_points INTEGER DEFAULT 0,
    appointments JSONB DEFAULT '[]'::jsonb,
    prospects JSONB DEFAULT '[]'::jsonb,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Create notifications table  
CREATE TABLE notifications (
    id BIGSERIAL PRIMARY KEY,
    type TEXT NOT NULL,
    message TEXT NOT NULL,
    client_name TEXT NOT NULL,
    read BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Insert your existing clients
INSERT INTO clients (username, password, name, plan, status, next_billing, total_appointments, businesses_contacted, people_called, total_contact_points, appointments, prospects) VALUES 
('dynamic-duo', 'kinect2024', 'Dynamic Duo', 'Pro Plan 300', 'active', '2025-10-22', 45, 25, 75, 675, 
'[{"date":"2025-09-24","time":"2:00 PM","company":"TechStart Solutions","contact":"John Mitchell","type":"CRM Implementation","location":"Downtown Office","status":"confirmed","notes":""}]'::jsonb,
'[{"businessName":"Enterprise Solutions Inc.","location":"Chicago, IL","service":"CRM Implementation","status":"Discovery"}]'::jsonb),

('techstart', 'tech2024', 'TechStart Solutions', 'Pro Plan 500', 'active', '2025-11-15', 78, 42, 125, 1125,
'[{"date":"2025-09-26","time":"3:15 PM","company":"Blue Ocean Consulting","contact":"Mike Rodriguez","type":"Sales Pipeline Setup","location":"Client Site","status":"confirmed","notes":""}]'::jsonb,
'[{"businessName":"Midwest Manufacturing","location":"Detroit, MI","service":"Sales Pipeline","status":"Negotiation"}]'::jsonb);
